{% extends "layouts/base-responsive.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}

	<link rel="stylesheet" href="/static/assets/css/dashboard.css">

{% endblock stylesheets %}

{% block content %}

<!-- Define page content -->
<div class="content">
	<div class="page-inner">

		<!-- Breadcrumb -->
		<div class="page-header">
			<h4 class="page-title">Space Segment</h4>
			<ul class="breadcrumbs">
				<li class="nav-home">
					<a href="/index.html">
						<i class="flaticon-home"></i>
					</a>
				</li>
				<li class="separator">
					<i class="flaticon-right-arrow"></i>
				</li>
				<li class="nav-item">
					<a href="#">Quarterly Reports</a>
				</li>
				<li class="separator">
					<i class="flaticon-right-arrow"></i>
				</li>
				<li class="nav-item">
					<a href="#">Space Segment</a>
				</li>
			</ul>
		</div>

		<!-- Datatake details panel -->
		<div class="modal fade" id="showDatatakeDetailsModal" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content" style="background: #202940">
					<div class="modal-header no-bd">
						<h5 class="modal-title">
							<span class="fw-mediumbold">View</span>
							<span class="fw-light">Datatake details</span>
						</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true" style="color: white">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<form>
							<div id="space-segment-datatake-details">
							</div>
						</form>
					</div>
					<div class="modal-footer no-bd">
						<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Collapsible description panel -->
		<div class="row">
			<div class="card-body" style="padding-bottom: 0.0rem !important">
				<div class="flex flex-column faq-section">
					<div class="row">
						<div class="col-md-12">
							<div id="accordion">
								<div class="card">
									<div class="card-header" id="heading-description">
										<h5 class="mb-0" style="color: white">
											<a role="button" data-toggle="collapse" href="#description"
											   aria-expanded="false" aria-controls="description"
											   style="color: white; text-decoration: none">
												&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Description
											</a>
										</h5>
									</div>
									<div id="description" class="collapse hide" data-parent="#accordion"
										 aria-labelledby="heading-description">
										<div class="card-body">
											This view summarizes the global system availability, with details relevant
											to the main instruments of each satellite.<br>
											Click on the magnifier lens, to display the anomalies causing the
											discontinuity in the system availability. By default,
											results are referred to the previous completed quarter.
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Instrument availability per Platform -->
		<div class="row">

			<!-- Sentinel-1A -->
			<div class="col-md-4">
				<div class="card">
					<div class="card-body">
						<div class="d-flex justify-content-between">
							<div>
								<h5><b>Copernicus Sentinel-1A</b></h5>
								<p class="text-muted">Platform availability</p>
							</div>
							<div class="calendar-details">
								<i class="la flaticon-search-1" data-placement="bottom"
								   data-toggle="tooltip"
								   onclick="spaceSegment.showUnavailabilityEvents('S1A')"
								   title="Display the relevant unavailabilities"></i>
							</div>
							<h3 class="text-info fw-bold" id="s1a-avail-perc" style="display:none">100.0%</h3>
						</div>
						<div class="progress progress-sm">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="98"
								 class="progress-bar bg-info" id="s1a-sar-avail-bar" role="progressbar"
								 style="width: 98%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">SAR</p>
							<p class="text-muted mb-0" id="s1a-sar-avail-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="100"
								 class="progress-bar bg-info" id="s1a-pdht-avail-bar" role="progressbar"
								 style="width: 100%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">PDHT</p>
							<p class="text-muted mb-0" id="s1a-pdht-avail-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="99"
								 class="progress-bar bg-info" id="s1a-ocp-avail-bar" role="progressbar"
								 style="width: 99%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">OCP</p>
							<p class="text-muted mb-0" id="s1a-ocp-avail-perc">100.0%</p>
						</div>
					</div>
				</div>
			</div>

			<!-- Sentinel-2A -->
			<div class="col-md-4">
				<div class="card">
					<div class="card-body">
						<div class="d-flex justify-content-between">
							<div>
								<h5><b>Copernicus Sentinel-2A</b></h5>
								<p class="text-muted">Platform availability</p>
							</div>
							<div class="calendar-details">
								<i class="la flaticon-search-1" data-placement="bottom"
								   data-toggle="tooltip"
								   onclick="spaceSegment.showUnavailabilityEvents('S2A')"
								   title="Display the relevant unavailabilities"></i>
							</div>
							<h3 class="text-success fw-bold" id="s2a-avail-perc" style="display:none">100.0%</h3>
						</div>
						<div class="progress progress-sm">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="98"
								 class="progress-bar bg-success" id="s2a-msi-avail-bar" role="progressbar"
								 style="width: 100%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">MSI</p>
							<p class="text-muted mb-0" id="s2a-msi-avail-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="100"
								 class="progress-bar bg-success" id="s2a-mmfu-avail-bar" role="progressbar"
								 style="width: 100%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">MMFU</p>
							<p class="text-muted mb-0" id="s2a-mmfu-avail-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="99"
								 class="progress-bar bg-success" id="s2a-ocp-avail-bar" role="progressbar"
								 style="width: 99%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">OCP</p>
							<p class="text-muted mb-0" id="s2a-ocp-avail-perc">100.0%</p>
						</div>
					</div>
				</div>
			</div>

			<!-- Sentinel-2B -->
			<div class="col-md-4">
				<div class="card">
					<div class="card-body">
						<div class="d-flex justify-content-between">
							<div>
								<h5><b>Copernicus Sentinel-2B</b></h5>
								<p class="text-muted">Platform availability</p>
							</div>
							<div class="calendar-details">
								<i class="la flaticon-search-1" data-placement="bottom"
								   data-toggle="tooltip"
								   onclick="spaceSegment.showUnavailabilityEvents('S2B')"
								   title="Display the relevant unavailabilities"></i>
							</div>
							<h3 class="text-success fw-bold" id="s2b-avail-perc" style="display:none">100.0%</h3>
						</div>
						<div class="progress progress-sm">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="98"
								 class="progress-bar bg-success" id="s2b-msi-avail-bar" role="progressbar"
								 style="width: 100%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">MSI</p>
							<p class="text-muted mb-0" id="s2b-msi-avail-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="100"
								 class="progress-bar bg-success" id="s2b-mmfu-avail-bar" role="progressbar"
								 style="width: 100%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">MMFU</p>
							<p class="text-muted mb-0" id="s2b-mmfu-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="99"
								 class="progress-bar bg-success" id="s2b-ocp-avail-bar" role="progressbar"
								 style="width: 99%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">OCP</p>
							<p class="text-muted mb-0" id="s2b-ocp-avail-perc">100.0%</p>
						</div>
					</div>
				</div>
			</div>

			<!-- Sentinel-3A -->
			<div class="col-md-4">
				<div class="card">
					<div class="card-body">
						<div class="d-flex justify-content-between">
							<div>
								<h5><b>Copernicus Sentinel-3A</b></h5>
								<p class="text-muted">Platform availability</p>
							</div>
							<div class="calendar-details">
								<i class="la flaticon-search-1" data-placement="bottom"
								   data-toggle="tooltip"
								   onclick="spaceSegment.showUnavailabilityEvents('S3A')"
								   title="Display the relevant unavailabilities"></i>
							</div>
							<h3 class="text-danger fw-bold" id="s3a-avail-perc" style="display:none">99%</h3>
						</div>
						<div class="progress progress-sm">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="98"
								 class="progress-bar bg-warning" id="s3a-olci-avail-bar" role="progressbar"
								 style="width: 99.7%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">OLCI</p>
							<p class="text-muted mb-0" id="s3a-olci-avail-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="100"
								 class="progress-bar bg-warning" id="s3a-slstr-avail-bar" role="progressbar"
								 style="width: 99.6%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">SLSTR</p>
							<p class="text-muted mb-0" id="s3a-slstr-avail-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="99"
								 class="progress-bar bg-warning" id="s3a-sral-avail-bar" role="progressbar"
								 style="width: 99.7%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">SRAL</p>
							<p class="text-muted mb-0" id="s3a-sral-avail-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="99"
								 class="progress-bar bg-warning" id="s3a-mwr-avail-bar" role="progressbar"
								 style="width: 99.77%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">MWR</p>
							<p class="text-muted mb-0" id="s3a-mwr-avail-perc">100.0%</p>
						</div>
					</div>
				</div>
			</div>

			<!-- Sentinel-3B -->
			<div class="col-md-4">
				<div class="card">
					<div class="card-body">
						<div class="d-flex justify-content-between">
							<div>
								<h5><b>Copernicus Sentinel-3B</b></h5>
								<p class="text-muted">Platform availability</p>
							</div>
							<div class="calendar-details">
								<i class="la flaticon-search-1" data-placement="bottom"
								   data-toggle="tooltip"
								   onclick="spaceSegment.showUnavailabilityEvents('S3B')"
								   title="Display the relevant unavailabilities"></i>
							</div>
							<h3 class="text-danger fw-bold" id="s3b-avail-perc" style="display:none">100.0%</h3>
						</div>
						<div class="progress progress-sm">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="98"
								 class="progress-bar bg-warning" id="s3b-olci-avail-bar" role="progressbar"
								 style="width: 100%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">OLCI</p>
							<p class="text-muted mb-0" id="s3b-olci-avail-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="100"
								 class="progress-bar bg-warning" id="s3b-slstr-avail-bar" role="progressbar"
								 style="width: 100%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">SLSTR</p>
							<p class="text-muted mb-0" id="s3b-slstr-avail-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="99"
								 class="progress-bar bg-warning" id="s3b-sral-avail-bar" role="progressbar"
								 style="width: 100%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">SRAL</p>
							<p class="text-muted mb-0" id="s3b-sral-avail-perc">100.0%</p>
						</div>
						<div class="progress progress-sm mt-2">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="99"
								 class="progress-bar bg-warning" id="s3b-mwr-avail-bar" role="progressbar"
								 style="width: 100%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">MWR</p>
							<p class="text-muted mb-0" id="s3b-mwr-avail-perc">100.0%</p>
						</div>
					</div>
				</div>
			</div>

			<!-- Sentinel-5P -->
			<div class="col-md-4">
				<div class="card">
					<div class="card-body">
						<div class="d-flex justify-content-between">
							<div>
								<h5><b>Copernicus Sentinel-5p</b></h5>
								<p class="text-muted">Platform availability</p>
							</div>
							<div class="calendar-details">
								<i class="la flaticon-search-1" data-placement="bottom"
								   data-toggle="tooltip"
								   onclick="spaceSegment.showUnavailabilityEvents('S5P')"
								   title="Display the relevant unavailabilities"></i>
							</div>
							<h3 class="text-secondary fw-bold" style="display:none">100.0%</h3>
						</div>
						<div class="progress progress-sm">
							<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="99"
								 class="progress-bar bg-secondary" id="s5p-tropomi-avail-bar" role="progressbar"
								 style="width: 98.9%"></div>
						</div>
						<div class="d-flex justify-content-between">
							<p class="text-muted mb-0">TROPOMI</p>
							<p class="text-muted mb-0" id="s5p-tropomi-avail-perc">100.0%</p>
						</div>
					</div>
				</div>
			</div>

		</div>

		<!-- Successful vs failed scanning operations, per satellite (pie charts) -->
		<div class="row">

			<!-- Sentinel-1A -->
			<div class="col-md-12">
				<div class="card">
					<div class="card-header row">
						<div class="card-title ml-3">Copernicus Sentinel-1A sensing statistics</div>
						<i class="la flaticon-search-1 ml-2 mt-1" data-placement="bottom"
								   data-toggle="tooltip" onclick="spaceSegment.showSensingStatistics('S1A')"
								   title="Display the global sensing statistics"></i>
					</div>
					<div class="card-body">
						<div class="row">
							<div class="chart-container col-md-3">
								<canvas id="s1a-sensing-statistics-pie-chart"></canvas>
							</div>
							<div class="table-responsive col-md-8">
								<table id="s1a-impacted-datatakes-table" class="display table table-striped table-hover" >
									<thead>
										<tr>
											<th style="max-width: 120px">Data Take ID</th>
											<th>Date</th>
											<th style="max-width: 100px">Issue type</th>
											<th style="max-width: 100px">Completeness</th>
											<th style="max-width: 60px">Actions</th>
										</tr>
									</thead>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Sentinel-2A -->
			<div class="col-md-12">
				<div class="card">
					<div class="card-header row">
						<div class="card-title ml-3">Copernicus Sentinel-2A sensing statistics</div>
						<i class="la flaticon-search-1 ml-2 mt-1" data-placement="bottom"
								   data-toggle="tooltip" onclick="spaceSegment.showSensingStatistics('S2A')"
								   title="Display the global sensing statistics"></i>
					</div>
					<div class="card-body">
						<div class="row">
							<div class="chart-container col-md-3">
								<canvas id="s2a-sensing-statistics-pie-chart"></canvas>
							</div>
							<div class="table-responsive col-md-8">
								<table id="s2a-impacted-datatakes-table" class="display table table-striped table-hover" >
									<thead>
										<tr>
											<th style="max-width: 120px">Data Take ID</th>
											<th>Date</th>
											<th style="max-width: 100px">Issue type</th>
											<th style="max-width: 100px">Completeness</th>
											<th style="max-width: 60px">Actions</th>
										</tr>
									</thead>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Sentinel-2B -->
			<div class="col-md-12">
				<div class="card">
					<div class="card-header row">
						<div class="card-title ml-3">Copernicus Sentinel-2B sensing statistics</div>
						<i class="la flaticon-search-1 ml-2 mt-1" data-placement="bottom"
								   data-toggle="tooltip" onclick="spaceSegment.showSensingStatistics('S2B')"
								   title="Display the global sensing statistics"></i>
					</div>
					<div class="card-body">
						<div class="row">
							<div class="chart-container col-md-3">
								<canvas id="s2b-sensing-statistics-pie-chart" style="width: 50%; height: 50%"></canvas>
							</div>
							<div class="table-responsive col-md-8">
								<table id="s2b-impacted-datatakes-table" class="display table table-striped table-hover" >
									<thead>
										<tr>
											<th style="max-width: 120px">Data Take ID</th>
											<th>Date</th>
											<th style="max-width: 100px">Issue type</th>
											<th style="max-width: 100px">Completeness</th>
											<th style="max-width: 60px">Actions</th>
										</tr>
									</thead>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Sentinel-3A -->
			<div class="col-md-12">
				<div class="card">
					<div class="card-header row">
						<div class="card-title ml-3">Copernicus Sentinel-3A sensing statistics</div>
						<i class="la flaticon-search-1 ml-2 mt-1" data-placement="bottom"
								   data-toggle="tooltip" onclick="spaceSegment.showSensingStatistics('S3A')"
								   title="Display the global sensing statistics"></i>
					</div>
					<div class="card-body">
						<div class="row">
							<div class="chart-container col-md-3">
								<canvas id="s3a-sensing-statistics-pie-chart"></canvas>
							</div>
							<div class="table-responsive col-md-8">
								<table id="s3a-impacted-datatakes-table" class="display table table-striped table-hover" >
									<thead>
										<tr>
											<th style="max-width: 120px">Data Take ID</th>
											<th>Date</th>
											<th style="max-width: 100px">Issue type</th>
											<th style="max-width: 100px">Completeness</th>
											<th style="max-width: 60px">Actions</th>
										</tr>
									</thead>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Sentinel-3B -->
			<div class="col-md-12">
				<div class="card">
					<div class="card-header row">
						<div class="card-title ml-3">Copernicus Sentinel-3B sensing statistics</div>
						<i class="la flaticon-search-1 ml-2 mt-1" data-placement="bottom"
								   data-toggle="tooltip" onclick="spaceSegment.showSensingStatistics('S3B')"
								   title="Display the global sensing statistics"></i>
					</div>
					<div class="card-body">
						<div class="row">
							<div class="chart-container col-md-3">
								<canvas id="s3b-sensing-statistics-pie-chart"></canvas>
							</div>
							<div class="table-responsive col-md-8">
								<table id="s3b-impacted-datatakes-table" class="display table table-striped table-hover" >
									<thead>
										<tr>
											<th style="max-width: 120px">Data Take ID</th>
											<th>Date</th>
											<th style="max-width: 100px">Issue type</th>
											<th style="max-width: 100px">Completeness</th>
											<th style="max-width: 60px">Actions</th>
										</tr>
									</thead>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Sentinel-5P -->
			<div class="col-md-12">
				<div class="card">
					<div class="card-header row">
						<div class="card-title ml.3">Copernicus Sentinel-5p sensing statistics</div>
						<i class="la flaticon-search-1 ml-2 mt-1" data-placement="bottom"
								   data-toggle="tooltip" onclick="spaceSegment.showSensingStatistics('S5P')"
								   title="Display the global sensing statistics"></i>
					</div>
					<div class="card-body">
						<div class="row">
							<div class="chart-container col-md-3">
								<canvas id="s5p-sensing-statistics-pie-chart" style="width: 50%; height: 50%"></canvas>
							</div>
							<div class="table-responsive col-md-8">
								<table id="s5p-impacted-datatakes-table" class="display table table-striped table-hover" >
									<thead>
										<tr>
											<th style="max-width: 120px">Data Take ID</th>
											<th>Date</th>
											<th style="max-width: 100px">Issue type</th>
											<th style="max-width: 100px">Completeness</th>
											<th style="max-width: 60px">Actions</th>
										</tr>
									</thead>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>

	</div>
</div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

	<!-- Specific plugins scripts -->
	<!-- Datatables -->
	<script src="/static/assets/js/plugin/datatables/datatables.min.js"></script>
	<script src="/static/assets/js/plugin/chart.js/chart.min.js"></script>

	<!-- Page related JS classes -->
	<script src="/static/assets/js/quarterly-reports/space-segment.js"></script>
	<script defer type="text/javascript">spaceSegment.init();</script>

{% endblock javascripts %}